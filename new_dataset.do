/**********************************************************************************File        : new_dataset.do  <--- this should be the exact name of THIS documentAuthor      : Kristina TobioCreated     : 18 Sep 2017Modified    : 18 Sep 2017Description : .do file playing around with the data**********************************************************************************/set more offclearcapture log closeuse data/PA_SarahPowers_data.dtalog using "logs/new_dataset_$S_DATE.log", replacetab attainment, missingkeep if attainment~=.regress attain meetingcountpredict new_salesgraph7 new_sales meetingcountorder new_sales meetingcountgsort -meetingcountset seed 2142generate x = runiform(0, 1)sum x, detailreplace new_sales=new_sales-x if (x>=.4 & x<=.9) & (new_sales-x>=1)replace new_sales=new_sales+x if (x<.4 | x>.9) & (new_sales+x<=3) & meetingcount>=100regress new_sales meetingcountdrop xgenerate x = runiform(.5, 1)gsort -meetingcountreplace new_sales=new_sales-x if _n<=10 & (new_sales-x>=1)scatter new_sales meetingcount, || lfit new_sales meetingcount